<!--
	Employee Management — Admin Panel
	Professional README generated by GitHub Copilot (assistant).
-->

# Employee Management — Admin Panel

Professional, lightweight PHP-based admin panel for managing employees, tasks, invoices and related employee data. This repository contains frontend pages and server-side PHP endpoints that operate with a MySQL database and file uploads.

---

**Table of contents**

- Project Overview
- Features
- Technology Stack
- Quick Start (Local Development)
- Configuration
- Database (schema & setup)
- File / Folder Map (key files)
- Usage Guide
- Security & Hardening
- Troubleshooting
- Contributing
- License

---

**Project Overview:**

This admin panel provides basic employee management features including employee signup, profile management, task assignment, invoices, project/task pages and a simple admin login flow. The application is implemented in PHP with MySQL and uses server-side file upload handling for employee documents and profile images.

**Features:**

- Employee signup and profile creation
- Employee login and basic session flow
- Tasks creation and lifecycle (pending → in-progress → completed)
- Upload and store employee documents (SSN/NID and additional docs)
- Basic invoice views and panels
- Admin panel logging table and admin user creation script

**Technology Stack:**

- PHP (compatible with PHP 7.x and 8.x)
- MySQL / MariaDB
- Plain HTML/CSS for front-end views (no JS frameworks required)
- File system storage for uploaded files (folder: `uploads/`)

---

**Quick Start (Local Development)**

1. Requirements:

   - PHP 7.4+ (with mysqli enabled)
   - MySQL / MariaDB
   - A web server (Apache via XAMPP, WAMP, or built-in PHP server for testing)

2. Copy repository to your web root. Example for XAMPP on Windows:

```powershell
# From PowerShell (example - adjust paths as needed)
cd "C:\xampp\htdocs"
git clone <repo-url> employee-management-admin-panel
```

3. Create a database and import the schema (see Database section). You can use phpMyAdmin or the MySQL CLI.

4. Configure database connection in `php/db_connect.php` (update credentials to match your environment).

5. Start Apache and MySQL (e.g., via XAMPP control panel) then open in your browser:

```
http://localhost/employee-management-admin-panel/index.php
```

---

**Configuration**

- Database configuration: open `php/db_connect.php` and update the following variables with your environment values:

```php
// php/db_connect.php
$servername = "localhost";
$username = "your_db_user";
$password = "your_db_password";
$dbname   = "your_database_name";
```

- Uploads folder: `uploads/` is used for storing profile pictures and document scans. Ensure this folder is writable by the web server.

---

**Database (schema & setup)**

The repository contains SQL DDL fragments and a helper script in `php/tables.txt` and `php/create_admin_log_table.php`. Recommended steps:

1. Create a database, e.g. `employee_admin`:

```sql
CREATE DATABASE employee_admin CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE employee_admin;
```

2. Create the minimal tables required. Example SQL snippets (adapt as needed):

```sql
-- Admin log
CREATE TABLE IF NOT EXISTS admin_panel_log(
	id INT AUTO_INCREMENT PRIMARY KEY,
	user_id VARCHAR(50) DEFAULT NULL,
	password VARCHAR(100) DEFAULT NULL,
	role VARCHAR(50) DEFAULT NULL,
	passkey INT DEFAULT NULL
);

-- Tasks
CREATE TABLE IF NOT EXISTS tasks(
	id INT AUTO_INCREMENT PRIMARY KEY,
	employee_id VARCHAR(50) NOT NULL,
	task_title VARCHAR(255) NOT NULL,
	task_description TEXT NOT NULL,
	task_document TEXT NOT NULL,
	dead_line VARCHAR(100) NOT NULL,
	status ENUM('pending', 'accepted', 'in-progress', 'completed') DEFAULT 'pending',
	completed_date VARCHAR(100) DEFAULT NULL,
	created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Extra documents table
CREATE TABLE IF NOT EXISTS extra_documents(
	id INT AUTO_INCREMENT PRIMARY KEY,
	employee_id VARCHAR(100) NOT NULL,
	doc_type VARCHAR(255) NOT NULL,
	doc_photo VARCHAR(255) NOT NULL
);

-- Additional employee tables required by the application (expected names):
-- employee_log, employee_personal_details, employee_documents, employee_projects, invoices, etc.
-- See `php/tables.txt` for fragments and adapt to your needs.
```

3. Alternatively you can run `php/create_admin_log_table.php` from the browser or CLI to create the `admin_panel_log` table automatically (ensure `php/db_connect.php` is configured).

4. The `php/employee_signup.php` endpoint expects tables `employee_log`, `employee_personal_details`, `employee_documents` and `extra_documents`. Ensure those tables exist and match the column names used by the code.

Notes:

- `php/tables.txt` in the `php/` folder contains DDL fragments used by the project — copy and adapt them into a complete SQL file for import.

---

**File / Folder Map (key files)**

- `index.php` — main entry view
- `login.php` — login view
- `employeeView.php` — view employee details
- `invoices.php`, `invoice.css` — invoice pages and styles
- `profile.php` — user profile page
- `employee_signup.php` — endpoint and form handling for new employees (server-side creation and file uploads)
- `employees_operations.php` — operations for employees (create/update/delete helpers)
- `user_login.php` — login handling
- `logout.php`, `invoice_panel_logout.php` — logout scripts
- `php/db_connect.php` — MySQL connection wrapper (update with your credentials)
- `php/create_admin_log_table.php` — script to create the `admin_panel_log` table
- `php/tables.txt` — DDL fragments and schema notes
- `uploads/` — directory used to store uploaded files (ensure writable)

---

**Usage Guide**

1. Create DB and configure `php/db_connect.php`.
2. Create tables using the provided fragments or run the creation script for admin table.
3. Visit `index.php` or `login.php` to begin. Use `employee_signup.php` to register an employee (from the front-end form).
4. Admin functionality:
   - Create an admin entry (you can insert a row into `admin_panel_log` manually with an admin username/password, or build a tiny setup page). Passwords are stored in plain text by current implementation — see Security section.

---

**Security & Hardening (Important)**

This repository is provided as an application scaffold. Before using in production, address these items:

- Password storage: the current code stores passwords plainly (or in a reversible form). Replace this with salted `password_hash()` and `password_verify()`.
- Input validation & output encoding: ensure all user input is validated and escaped before output.
- Prepared statements: many database operations already use prepared statements; verify any raw SQL is parameterized.
- File uploads: validate file types and limit maximum size. Store uploads outside the web root if possible or restrict access via .htaccess.
- Error handling: avoid showing database errors to end users in production.
- HTTPS: run the application behind HTTPS in deployment.
- Credentials: do not commit real database credentials to source control. Use environment variables or a configuration file kept out of VCS.

---

**Troubleshooting**

- Blank page or PHP errors: enable `display_errors` for development in `php.ini` or check server error logs.
- Database connection errors: double-check credentials in `php/db_connect.php` and that MySQL server is running.
- File upload failures: check `uploads/` folder permissions and `upload_max_filesize`/`post_max_size` in `php.ini`.

---

**Contributing**

If you want to contribute improvements (recommended):

- Create a feature branch and open a pull request.
- Fix password handling to use `password_hash()` / `password_verify()`.
- Add a proper SQL schema file (e.g. `schema.sql`) that creates all tables and constraints in order.
- Add unit/functional tests or example users and data for easier manual verification.

---

**License**

No license specified. If you intend to make this project public, add a license (MIT, Apache-2.0, etc.) by creating a `LICENSE` file.
